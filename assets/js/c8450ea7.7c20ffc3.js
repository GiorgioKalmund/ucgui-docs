"use strict";(globalThis.webpackChunkucgui_docs=globalThis.webpackChunkucgui_docs||[]).push([[4974],{6997:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"interfaces/ifocusable","title":"IFocusable","description":"Simplify parttaking in focus-based interactions","source":"@site/docs/interfaces/ifocusable.md","sourceDirName":"interfaces","slug":"/interfaces/ifocusable","permalink":"/ucgui-docs/docs/interfaces/ifocusable","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"IFocusable","description":"Simplify parttaking in focus-based interactions"},"sidebar":"docs","previous":{"title":"IEnabled","permalink":"/ucgui-docs/docs/interfaces/ienabled"},"next":{"title":"IRenderable","permalink":"/ucgui-docs/docs/interfaces/irenderable"}}');var i=t(4848),o=t(8453);const c={title:"IFocusable",description:"Simplify parttaking in focus-based interactions"},r=void 0,a={},l=[{value:"Description",id:"description",level:2},{value:"Requirements",id:"requirements",level:3},{value:"<code>FocusState&lt;T&gt;</code>",id:"focusstatet",level:3},{value:"Cycling Through States",id:"cycling-through-states",level:3},{value:"Examples",id:"examples",level:2},{value:"References",id:"references",level:2},{value:"Implementation",id:"implementation",level:2}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,i.jsx)(n.p,{children:"Focus and focus states are a core concept to any user interface.\nThey play a crucial role in the communication of interactions and feedback to the user."}),"\n",(0,i.jsx)(n.p,{children:"The IFocusable interface aims to provide a handy system which allows for easy\nfocus-based transitions."}),"\n",(0,i.jsxs)(n.p,{children:["To achieve such interactions ",(0,i.jsx)(n.code,{children:"IFocusable"}),"'s core is based on a simply hashmap which tracks which member is the currently focused one for a given string key. This key is\nalso referred to as the 'FocusGroup'. All  components which share the same FocusGroup will therefore be part of the same logical group for focus-based interactions."]}),"\n",(0,i.jsxs)(n.p,{children:["The idea of FocusGroup is that at any point in time there can only be ",(0,i.jsx)(n.strong,{children:"exactly one"})," member which is the 'focused' one. Whenever another members wants to be focused the\npreviously focused element will first be unfocused and then the new element will be focused. Behind the scenes the reference to the focused element in the map for the respective FocusGroup will also be adjusted to properly reflect the new state."]}),"\n",(0,i.jsx)(n.h3,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsx)(n.p,{children:"To conform to this interface members have to implement the following members:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"string FocusGroup"})," - The group the element is part of."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UnityEvent OnFocusEvent"})," - Reference to an optional event which is fired on focus."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UnityEvent OnUnfocusEvent"})," - Reference to an optional event which is fired when loosing focus."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"void HandleFocus()"})," - Handler invoked when element is focused."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"void HandleUnfocus()"})," - Handler invoked when element looses its focused."]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["You dont't have to initialize the ",(0,i.jsx)(n.code,{children:"FocusGroup"})," string to specify which group they want\nto belong to.\nUCGUI will fall back to an internal global group ",(0,i.jsx)(n.code,{children:'"ucgui-focus-group-default"'}),". ",(0,i.jsx)(n.br,{}),"\n","It is set via ",(0,i.jsx)(n.code,{children:"Defaults.Focus.DefaultGroup"}),"."]}),(0,i.jsxs)(n.p,{children:["You can also change it at runtime by setting the property (",(0,i.jsx)(n.em,{children:"only recommended for unqiue or single-use components, otherwise initialize the property inside the class directly"}),")."]})]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["The static ",(0,i.jsx)(n.code,{children:"FocusableHelper"})," class offers ",(0,i.jsx)(n.code,{children:"CreateFocusEvent()"})," and ",(0,i.jsx)(n.code,{children:"CreateUnfocusEvent()"})," functions which can be used to externally and safely initialize your optional events."]})}),"\n",(0,i.jsx)(n.h3,{id:"focusstatet",children:(0,i.jsx)(n.code,{children:"FocusState<T>"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["where ",(0,i.jsx)(n.code,{children:"T"})," extends ",(0,i.jsx)(n.code,{children:"struct"}),", ",(0,i.jsx)(n.code,{children:"Enum"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The FocusState class aims to provide a closed and context based focus group wrapper with some additional functionalities."}),"\n",(0,i.jsxs)(n.p,{children:["To join a FocusState, any member implementing ",(0,i.jsx)(n.a,{href:"#description",children:"IFocusable"})," can call\n",(0,i.jsx)(n.code,{children:".Focusable(FocusState<T>, T)"}),". This uniquely links this member to that specific enum value."]}),"\n",(0,i.jsx)(n.p,{children:"The idea behind a FocusSate is that it created a bidirectional relationship between the\nenum and the members in the FocusState."}),"\n",(0,i.jsxs)(n.p,{children:["Every FocusState has a ",(0,i.jsx)(n.code,{children:"T Value"}),' property which points to the "current" or "active" enum\nvalue. This allows for easy control the internal FocusGroup\'s active member: simply set\n\'Value\' to the new desired enum member and the corresponding ',(0,i.jsx)(n.code,{children:"IFocusable"})," is focused.\nThis also works vice versa."]}),"\n",(0,i.jsxs)(n.p,{children:["This value can be directly assigned when creating a FocusState. It will default to ",(0,i.jsx)(n.code,{children:"null"})," if\nno value is passed into the constructor."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",metastring:'title="Default Value Initialization"',children:"FocusState<MyEnum> simple = new FocusState<MyEnum>(MyEnum.Value1);\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"important",children:(0,i.jsx)(n.p,{children:"When joining a FocusState a member's FocusGroup is automatically assigned based on a unique identifier.\nThere is no need to unify the members into a separate group manually!"})}),"\n",(0,i.jsx)(n.h3,{id:"cycling-through-states",children:"Cycling Through States"}),"\n",(0,i.jsxs)(n.p,{children:["Additionally FocusStates have the ",(0,i.jsx)(n.code,{children:"Next()"})," and ",(0,i.jsx)(n.code,{children:"Previous()"})," functions which all you to\neasily cycle through the bound members. The order is defined by the order you add the\nelements to the FocusState."]}),"\n",(0,i.jsxs)(n.p,{children:["Additionally, an optional ",(0,i.jsx)(n.code,{children:"TransitionMode"}),"s can be specified to adjust the\nforward and backward cycling behaviour:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Simple"})," - Cycles through every element in the state until either the left or right border has been hit."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Loop"})," - Cycles through every element in the state, looping around to the opposite border after it has been hit."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"LoopWithNull"})," - Cycles through every element in the state. After a border has been hit the state will first set its value to ",(0,i.jsx)(n.code,{children:"null"})," before looping back to the opposite border."]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsxs)(n.p,{children:["FocusStates are by no means a new concept. If you are familiar with ",(0,i.jsx)(n.a,{href:"https://developer.apple.com/documentation/swiftui/focusstate",children:"SwiftUI's @FocusState property wrapper"}),"\nexpect this to work in a very similar way."]})]}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",metastring:'title="Simple Class Example"',children:"class MyFocusableElement : BaseComponent, IFocusable {\n    /* your element code */ \n\n    // mandatory ifocsuable members:\n    public string FocusGroup { get; set; } // = \"my-custom-focus-group\"\n        \n    public UnityEvent OnFocusEvent { get; set; } // = new UnityEvent();\n    \n    public UnityEvent OnUnfocusEvent { get; set; } // = new UnityEvent();\n    \n    public void HandleFocus() { \n        // invoked every time this element calls '.Focus()'\n    }\n\n    public void HandleUnfocus() {\n        // invoked every time this element calls '.Unfocus()'\n    }\n}\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",metastring:'title="A Simple FocusState"',children:"enum SelectedTab { Shop, Home, Profile }\n\nFocusState<SelectedTab> focusState = new (/* optional default init value*/);\n\n// create and configure your elements ...\n\nvar tab1 = UI.N<MyFocusableElement>().Focusable(focusState, Shop); \nvar tab2 = UI.N<MyFocusableElement>().Focusable(focusState, Home); \nvar tab3 = UI.N<MyFocusableElement>().Focusable(focusState, Profile); \n\n// ... and later focus them\nfocus.Value = Home; // invokes 'HandleFocus' in 'tab2'\n\n// ... or cycle through them\nfocus.Next(); // invokes 'HandleFocus' in 'tab3', sets Value to 'Profile'\nfocus.Next(TransitionMode.Loop); // invokes 'HandleFocus' in 'tab1', sets Value to 'Shop'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.p,{children:["This interface is implemented by: ",(0,i.jsx)(n.a,{href:"/ucgui-docs/docs/components/button-component",children:(0,i.jsx)(n.code,{children:"ButtonComponent"})}),", ",(0,i.jsx)(n.a,{href:"/ucgui-docs/docs/components/input-component",children:(0,i.jsx)(n.code,{children:"InputComponent"})}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,i.jsx)("div",{align:"center",children:(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.github.com/GiorgioKalmund/UCGUI/tree/main/Runtime/Components/Interface/IFocusable.cs",children:(0,i.jsx)(n.strong,{children:"IFocusable.cs"})})})})})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>r});var s=t(6540);const i={},o=s.createContext(i);function c(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);