"use strict";(globalThis.webpackChunkucgui_docs=globalThis.webpackChunkucgui_docs||[]).push([[6014],{3577:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"components/views/abstract-view-component","title":"AbstractViewComponent","description":"Base elements for all views","source":"@site/docs/components/views/abstract-view-component.md","sourceDirName":"components/views","slug":"/components/views/abstract-view-component","permalink":"/ucgui-docs/docs/components/views/abstract-view-component","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"AbstractViewComponent","description":"Base elements for all views"},"sidebar":"docs","previous":{"title":"Views","permalink":"/ucgui-docs/docs/category/views"},"next":{"title":"ViewComponent","permalink":"/ucgui-docs/docs/components/views/view-component"}}');var s=t(4848),o=t(8453);const r={sidebar_position:1,title:"AbstractViewComponent",description:"Base elements for all views"},a=void 0,c={},l=[{value:"Description",id:"description",level:2},{value:"Events",id:"events",level:3},{value:"ViewStacks",id:"viewstacks",level:2},{value:"Examples",id:"examples",level:2},{value:"Implementation",id:"implementation",level:2}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["extends ",(0,s.jsx)(n.a,{href:"/ucgui-docs/docs/components/image-component",children:"ImageComponent"})," implements ",(0,s.jsx)(n.a,{href:"/ucgui-docs/docs/interfaces/irenderable",children:"IRenderable"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,s.jsx)(n.p,{children:"The AbstractViewComponent acts as common denominator for all view-based components."}),"\n",(0,s.jsxs)(n.p,{children:["Views are components which, similar to ",(0,s.jsx)(n.a,{href:"/ucgui-docs/docs/components/simple-screen",children:"screens"}),", are meant to act as\ncontent holder for a hierarchy of elements. They support an identical ",(0,s.jsx)(n.code,{children:".Add(...)"})," call which parents\na given component to the view."]}),"\n",(0,s.jsx)(n.p,{children:"In constrast to screens, views are more dynamic. They can be 'opened' and 'closed', allowing them to only be visible at\ncertain times."}),"\n",(0,s.jsxs)(n.p,{children:["Similar to the screen, a view requires a lifecycle handler to be implemented. For views the ",(0,s.jsx)(n.code,{children:"Create()"})," handler must be overriden.\nIt will called during the ",(0,s.jsx)(n.strong,{children:"Awake"})," phase of the Unity lifecycle.\n",(0,s.jsx)(n.br,{}),"\n",(0,s.jsxs)(n.em,{children:["If you additionally need to configure some aspects of the view or their children in the 'Start' phase, simply override the default Unity 'Start' function.\nYou can learn more about how to work with the Unity lifecycle and UCGUI ",(0,s.jsx)(n.a,{href:"/ucgui-docs/docs/getting-started/quickstart#interacting-with-the-unity-lifecycle",children:"here"}),"."]}),"\nWith these functions, similar to screens, you can create you interactive user interface!"]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["UCGUI defaults to having the initial state of views to be 'closed'. If you want to change this behaviour\nsimply adjust ",(0,s.jsx)(n.code,{children:"Defaults.View.StartsOpen"}),"."]})}),"\n",(0,s.jsxs)(n.p,{children:["There are also native handlers for toggling opening and closing via an ",(0,s.jsx)(n.a,{href:"https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/api/UnityEngine.InputSystem.InputAction.html",children:"InputAction"})," (helpful for example if you creating something like a pause menu), as well as\nUnityEvents you can listen to for when the view opens and closes."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"#implementation",children:(0,s.jsx)(n.code,{children:"Link(Canvas)"})})," can be used to automatically parent the view to the canvas, as well as setting the internal ",(0,s.jsx)(n.code,{children:"canvas"})," property."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"Lock"})," and ",(0,s.jsx)(n.code,{children:"Unlock"})," calls can be used to prevent opening and closing of a view."]}),"\n",(0,s.jsxs)(n.admonition,{type:"important",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Render"})," is called ",(0,s.jsx)(n.strong,{children:"every time the view opens"}),". Use it to change anything about your view on re-opening instead of\ncreating new views over and over again. You can imagine a view to be more of a potential template for any state which\nit can render when opened."]}),(0,s.jsxs)(n.p,{children:["A view will ",(0,s.jsx)(n.strong,{children:"always bubble to the top of its hierarchy"})," when it opens."]})]}),"\n",(0,s.jsx)(n.h3,{id:"events",children:"Events"}),"\n",(0,s.jsx)(n.p,{children:"Any view has four native events tied to it.\nTwo for generic open and close:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnOpen"}),"     - Fires every time the view transitions from being ",(0,s.jsx)(n.strong,{children:"closed"})," to being ",(0,s.jsx)(n.strong,{children:"open"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnClose"}),"    - Fires every time the view transitions from being ",(0,s.jsx)(n.strong,{children:"open"})," to being ",(0,s.jsx)(n.strong,{children:"closed"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["And another two for notifying when the view has become relevant inside of a ",(0,s.jsx)(n.a,{href:"#viewstacks",children:"ViewStack"}),":"]}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnStackReveal"}),"  - Fires every time the view is part of a stack and has been ",(0,s.jsx)(n.strong,{children:"revealed by a pop"}),", i.e. is now on top of the stack."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OnStackHide"}),"    - Fires every time the view has been ",(0,s.jsx)(n.strong,{children:"hidden by a pushed"})," view, i.e. now directly under the top of the stack."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"But what even is a ViewStack? The following section will explain more about their behaviours and capabilities."})}),"\n",(0,s.jsx)(n.h2,{id:"viewstacks",children:"ViewStacks"}),"\n",(0,s.jsxs)(n.p,{children:["ViewStacks act similar to a stack (",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Stack_(abstract_data_type)",children:(0,s.jsx)(n.em,{children:"the data structure"})}),"), in that they support the ",(0,s.jsx)(n.code,{children:"Push"})," and ",(0,s.jsx)(n.code,{children:"Pop"})," operations\nfor views, as well as a ",(0,s.jsx)(n.code,{children:"Peek"})," to retrieve the upmost element."]}),"\n",(0,s.jsxs)(n.p,{children:["ViewStacks help you manage your flow and organization of views.\nBy ",(0,s.jsx)(n.strong,{children:"pushing"})," a view to the stack, the stack ",(0,s.jsx)(n.strong,{children:"automatically opens it"})," and ",(0,s.jsx)(n.strong,{children:"closes it when it is popped"})," from the stack."]}),"\n",(0,s.jsxs)(n.p,{children:["Additionally there is a special version of popping from the stack using ",(0,s.jsx)(n.code,{children:"PopUntil(AbstractViewComponent)"}),". This will keep on popping from the stack until\na given view is reached (meaning it is at the top of the stack); if no matching element is present ",(0,s.jsx)(n.strong,{children:"no operation"})," will be performed."]}),"\n",(0,s.jsxs)(n.p,{children:["To pop every element from the stack at once simply use ",(0,s.jsx)(n.code,{children:"Collapse"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.p,{children:"For a simple and non-reusable view, there is a built-in shorthand:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",metastring:'title="Simple UI Builder"',children:'// anonymous view\nUI.View(canvas, v => { // optionally directly link to canvas\n    v.Add(\n        UI.Image(_iceCreamCone)\n            .Pivot(PivotPosition.UpperLeft)\n            .Offset(20, -20)\n        ,\n        UI.Text("Sam\'s Ice Cream")\n            .Pivot(PivotPosition.UpperLeft, true)\n            .Offset(120, -20),\n        // ...\n    );\n}).Size(_width, _height);\n'})}),"\n",(0,s.jsx)(n.p,{children:"However for more complex and reusable scenarios you might want to store the contents somewhere in a dedicated class:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-csharp",metastring:'title="Custom View Example"',children:"using UCGUI;\n\nclass MyViewComponent : AbstractViewComponent\n{\n    private TextComponent title\n    private string titleString = \"Lil Whip's Ice Cream\";\n\n    // create initial configuration during 'Awake'\n    protected override void Create() { \n        ImageComponent iceLogo = UI.Image(_iceCreamCone)\n            .Pivot(PivotPosition.UpperLeft)\n            .Offset(20, -20)\n            .Parent(this);\n\n        UI.Text(titleString)\n            .Pivot(PivotPosition.MiddleLeft, true)\n            .OffsetX(20)\n            .Parent(iceLogo);\n\n        // ...\n\n        this.Size(600, 800);\n    }\n\n    // apply additional configuration during 'Start'\n    protected override void Initialize() {\n\n    }\n    \n    // called every time the view opens\n    public override void Render() { \n        titleString = GetTitleString();\n        title.Text(titleString);\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,s.jsx)("div",{align:"center",children:(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.github.com/GiorgioKalmund/UCGUI/tree/main/Runtime/Components/AbstractViewComponent.cs",children:(0,s.jsx)(n.strong,{children:"AbstractViewComponent.cs"})})})})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(6540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);