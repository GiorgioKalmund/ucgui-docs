"use strict";(globalThis.webpackChunkucgui_docs=globalThis.webpackChunkucgui_docs||[]).push([[3058],{5855:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"getting-started/tutorial/tutorial-loading","title":"Tutorial - Loading Assets","description":"In our previous example we only used some simple colors and the default font","source":"@site/docs/getting-started/tutorial/tutorial-loading.md","sourceDirName":"getting-started/tutorial","slug":"/getting-started/tutorial/tutorial-loading","permalink":"/ucgui-docs/docs/getting-started/tutorial/tutorial-loading","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Tutorial - Loading Assets"},"sidebar":"docs","previous":{"title":"Tutorial - Advanced Drawing","permalink":"/ucgui-docs/docs/getting-started/tutorial/tutorial-creating-2"},"next":{"title":"Quickstart","permalink":"/ucgui-docs/docs/getting-started/quickstart"}}');var i=n(4848),o=n(8453);const a={sidebar_position:6,title:"Tutorial - Loading Assets"},r=void 0,l={},c=[{value:"Text Asset Customization",id:"text-asset-customization",level:2},{value:"Naive Loading",id:"naive-loading",level:3},{value:"Advanced Loading",id:"advanced-loading",level:3},{value:"Image Asset Customization",id:"image-asset-customization",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"In our previous example we only used some simple colors and the default font\nfor our components. This won't cut for most use cases as you most probably want your\nown font, images, button, etc."}),"\n",(0,i.jsxs)(t.p,{children:["As UCGUI has no visual no editor to do any of those things, one naturally might\ncome to the conlcusion that there needs to be some sort of functionality\nto achieve the same result. ",(0,i.jsx)(t.em,{children:"Indeed!"})]}),"\n",(0,i.jsx)(t.h2,{id:"text-asset-customization",children:"Text Asset Customization"}),"\n",(0,i.jsx)(t.h3,{id:"naive-loading",children:"Naive Loading"}),"\n",(0,i.jsx)(t.p,{children:"Before we dive into some more convenient workflows, let's start with some very simple,\nbut naive, examples."}),"\n",(0,i.jsxs)(t.p,{children:["Suppose you want to change the font of your text. No special request; no special answer.\nChanging the font is as simple as calling ",(0,i.jsx)(t.code,{children:".Font(...)"})," on any TextComponent!\nHowever, how do we tell the the function ",(0,i.jsx)(t.em,{children:"where"})," to grab our font asset from? UCGUI makes\nuse of ",(0,i.jsx)(t.a,{href:"",children:"TextMeshPro"})," under the hood for all text-based elements, and thus a ",(0,i.jsx)(t.a,{href:"",children:"TMP_FontAsset"}),"\nis required to change the font of your text."]}),"\n",(0,i.jsxs)(t.p,{children:["As you might know, the ",(0,i.jsx)(t.code,{children:"Resources API"})," allows for dynamic loading of such anything which is located\nin the your ",(0,i.jsx)(t.code,{children:"<Project>/Assets/Resources/"})," folder. We can make use of it to set the font of\nour text:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-chsarp",children:'    UI.Text("Hello, World!")\n    .Font(\n        // Loads "<ProjectName>/Assets/Resources/Font/FancyFont.asset"\n        Resources.Load<TMP_FontAsset>("Font/FancyFont")\n    )\n    .Parent(canvas);\n'})}),"\n",(0,i.jsx)(t.p,{children:"This works, but we quickly run into an issue when trying to re-use the same font for multiple text components.\nWe could store a reference to the asset and then apply it to all texts but this is also tedious and you need some centralized\nplace to store the font, allowing you to access it. Also too much effort."}),"\n",(0,i.jsx)(t.h3,{id:"advanced-loading",children:"Advanced Loading"}),"\n",(0,i.jsxs)(t.p,{children:["The TextComponent has a built in solution: ",(0,i.jsx)(t.code,{children:"GlobalFont"})," is a static member (and method) which can be initialized\n",(0,i.jsx)(t.strong,{children:"once"}),", and then applies the font automagically to every TextComponent which is instantiated afterwards.\nThis removes our '.Font' calls and we never have to remember to apply it to every single text, button, label, textfield, etc."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'\nTextComponent.GlobalFont = Resources.Load<TMP_FontAsset>("Font/FancyFont");\nfor (int i = 0; i < 5; i++){\n    UI.Text($"Hello, {i}").OffsetY(i * -40).Parent(canvas);\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["Using this technique, ",(0,i.jsx)(t.strong,{children:"all"})," texts in the example above will have our custom font applied, whilst only requiring\na loading overhead once."]}),"\n",(0,i.jsx)(t.admonition,{type:"warning",children:(0,i.jsxs)(t.p,{children:["UCGUI heavily recommends using the GlobalFont variant as loading from the Resources for every text instantiation\nis ",(0,i.jsx)(t.strong,{children:"very performance heavy"}),"."]})}),"\n",(0,i.jsx)(t.h2,{id:"image-asset-customization",children:"Image Asset Customization"}),"\n",(0,i.jsxs)(t.p,{children:["Images are a bit more complex to get right as you probaly load ",(0,i.jsx)(t.em,{children:"way"})," more images than fonts throughout your game."]}),"\n",(0,i.jsx)(t.p,{children:"UCGUI offers a simple way of loading images into your game. Again you can use 'Resouces.Load', but\nhas a built-in wrapper which also does nice quality of life side-effects."}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"ImageService"})," class wraps the 'Resouces' functionality by allowing for a fallback if a certain texture or sprite\ncannot be found. This often helps to quickly identify where something has gone wrong, or assets are still missing.\n",(0,i.jsx)(t.code,{children:"Defaults.Services.MissingTexture2DLocation"})," can be set to a path relative to the Resources folder to fallback to a specific\nTexture2D when an attempt at grabing an invalid asset was made; it will default to ",(0,i.jsx)(t.em,{children:"'Assets/Resources/missing'"}),".\nFurthermore, ",(0,i.jsx)(t.code,{children:"ImageService.GetSprite"})," and ",(0,i.jsx)(t.code,{children:"ImageService.GetSpriteDirectly()"})," can be used to load 'Default' or 'Sprite' images\nfrom your folder structure. ",(0,i.jsx)(t.strong,{children:"Both"})," load ",(0,i.jsxs)(t.strong,{children:["relative to ",(0,i.jsx)(t.em,{children:"'Assets/Resources/Textures/'"})]}),"!"]}),"\n",(0,i.jsx)(t.p,{children:"Let me show you what using them could look like:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'// first, define a fallback image for invalid paths\nImageService.MissingTextureLocation = "Textures/missing"\n\n// "<Project>/Assets/Resources/Textures/wallpaper" with ImageType \'Default\'\nUI.Image(ImageService.GetSprite("wallpaper")).Maximize().Parent(canvas);\n\n// "<Project>/Assets/Resources/Textures/9-sliced-rectangle" with ImageType \'Sprite\'\nUI.Image(ImageService.GetSpriteDirectly("9-sliced-rectangle"))\n    .Size(200, 100)\n    .ImageType(Image.Type.Sliced)\n    .PixelsPerUnitMultiplier(0.1f)\n    .OffsetX(-200)\n    .Parent(canvas);\n\n// "<Project>/Assets/Resources/Textures/missing" with ImageType \'Default\'\nUI.Image(ImageService.GetSpriteDirectly("invalid-path")).OffsetX(50).Parent(canvas);\n'})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Loading Assets Images",src:n(6503).A+"",width:"2450",height:"1362"})}),"\n",(0,i.jsx)(t.p,{children:"As you can see, UCGUI correctly loaded our wallpaper and the sprite for our rectangle. However, when we\ntried loading an invalid path to an image (either because we tried to load a Sprite but the image was marked as Default, vice versa, etc.)\nUCGUI displays the texture defined as your 'Missing Texture'."}),"\n",(0,i.jsxs)(t.p,{children:["For the 9-Sliced image we have to apply a slightly differnt flow to have it be properly displayed in our user interface.\nMost importantly we need to load it ",(0,i.jsx)(t.strong,{children:"directly"})," (as the method states), instead of indirectly so we can\nkeep its 9-sliced configuration and options. Then, we need to tell the renderer to treat it as a sliced\nimage and how 'strong' the slicing should be.\nIf you are unsure of what exact value to use the the pixels per unit multiplier, try building your UI once and then\ntweaking the value in the editor. It can be hard to guess what exact values create your desired look, and this is\nwhere UCGUI reaches its limits in terms of a lack of visual feedback of your UI elements."]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["It is recommended to set your missing texture as early as possible as this helps you with debugging.\nIf no missing texture is defined or the path to it is invalid, UCGUI will have ",(0,i.jsx)(t.strong,{children:"no"})," internal\nfallback and null will be passed around."]})}),"\n",(0,i.jsx)(t.p,{children:"What we have learnt this section:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Why we use a GlobalFont reference to set our fonts, and in which ways we can set it."}),"\n",(0,i.jsxs)(t.li,{children:["How we can load different types of images.","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Why extensions such as 'ImageType' or 'PixelsPerUnitMultiplier' might be necessry when dealing\nwith 9-sliced sprites."}),"\n",(0,i.jsx)(t.li,{children:"How the MissingTexture2DLocation can help us catch invalid textures."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{title:"horray!",type:"note",children:(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Thats it with the tutorial for now. If you have something in mind I'd suggest to try and start prototyping it with UCGUI and see how it goes. There\nare also some aspects and functionalities of UCGUI which have not been mentioned in this tutorial. Take a look at the individual docs pages of all components to get a more\nin depth and comprehensive overview!"})})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},6503:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/screenshot-loading-assets-images-a67ccbab7b09dcbe222e7f0c9e639a56.png"},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var s=n(6540);const i={},o=s.createContext(i);function a(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);